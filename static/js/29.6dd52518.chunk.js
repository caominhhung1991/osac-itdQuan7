(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[29],{1065:function(e,n,i){"use strict";i.r(n);var t=i(14),a=i(3),o=i(30),d=(i(835),i(0)),c=i.n(d),r=i(48),u=i(1052),h=i(997),s=i(42),m=i(943),l=i(10),p=i(276),I="Soup",f="Side dish",v="M\xf3n c\u1ea3i thi\u1ec7n",b="Noodles soup",g="Noodles soup 1",C="Noodles soup 2",D="Noodles soup 3",N="Noodles soup 4",O="Noodles soup 5",T="Vegetarian food 1",_="Vegetarian food 2",y="Vegetarian food 3",M="Vegetarian food 4",S="Vegetarian food 5",E="Vegetarian food 6",j="Dessert",A=[{id:"monMan",ids:["Main dish 1","Main dish 2","Main dish 3","Main dish 4","Main dish 5","Main dish 6","Main dish 7","Main dish 8","Main dish 9","Main dish 10","Main dish 11","Main dish 12","Main dish 13"],kinds:[p.a.monman,p.a.monmanphu]},{id:"monCanh",ids:[I],kinds:[p.a.moncanh]},{id:"monXao",ids:[f],kinds:[p.a.monxao]},{id:"monNuocVaCaiThien",ids:[v,b,g,C,D,N,O],kinds:[p.a.moncaithien,p.a.monnuoc,p.a.monnuocchay]},{id:"monChay",ids:[T,_,y,M,S,E],kinds:[p.a.monchay,p.a.monnuocchay]},{id:"monTrangMieng",ids:[j],kinds:[p.a.trangmieng]}],R=i(704),P=i(302),k=i(301),V=i(333),w=i(303),U=i(27).c.id,x=function(e){var n=e.history,i=e.location,r=e.style,p=e.classNames,I=e.userConfig,f=Object(R.a)(),v=Object(R.b)((function(e){return e.thucDonDuTruSetting})),b=v.recipeKinds,g=v.nhomGiaMonAnData,C=Object(R.b)((function(e){return e.nguyenLieu})).nguyenLieus,D=Object(R.b)((function(e){return e.recipe})),N=D.recipesArray,O=D.ingreRecipeData,T=(null===g||void 0===g?void 0:g.giaPhanAn)||0,_=I.yearId,y=I.weekId,M=Object(k.c)(i,m.b.MODAL_ID),S=Object(k.c)(i,m.b.SHIFT_ID),E=Object(k.c)(i,m.b.KIND_ID),j=Object(k.c)(i,m.b.DAY_ID),x=Object(k.c)(i,m.b.RECIPE_ID),K=Object(d.useRef)(null),L=Object(d.useState)([]),H=Object(o.a)(L,2),B=H[0],W=H[1],F=Object(d.useState)([]),G=Object(o.a)(F,2),Y=G[0],X=G[1],q=c.a.useMemo((function(){return M===m.a.selectRecipe.id}),[M]);Object(d.useEffect)((function(){var e,n=null===b||void 0===b||null===(e=b[E])||void 0===e?void 0:e.recipeKindMap,i=[];if(n){var o=A.find((function(e){return e.id===n}))||{};i=(null===o||void 0===o?void 0:o.kinds)||[],X(i.join(", "))}var d=Object(s.groupBy)(N,"categoryRecipe"),c=i.reduce((function(e,n){var i=d[n]||[];return i=i.map((function(e){var n=e.id,i=(null===O||void 0===O?void 0:O[n])||[];return Object(a.a)(Object(a.a)({},e),{},{nguyenLieus:i})})),[].concat(Object(t.a)(e),Object(t.a)(i))}),[]);W(c)}),[N,b,E,O]);var J=function(){var e=f(Object(V.b)(j,S,E)),i=e.nextRecipeKindId,t=e.nextRecipeId;if(i){var a=[[m.b.MODAL_ID,m.a.selectRecipe.id],[m.b.SHIFT_ID,S],[m.b.KIND_ID,i],[m.b.DAY_ID,j],[m.b.RECIPE_ID,t]];Object(k.d)(n,a)}},Q=c.a.useCallback((function(e){if(0===((null===e||void 0===e?void 0:e.nguyenLieus)||[]).length)return null;var n=f(Object(P.d)(e));return c.a.createElement("span",{className:"cost-style"},"(".concat(Object(l.f)(n,T),"%)"))}),[C,T]),$=c.a.useMemo((function(){var e,n=null===b||void 0===b||null===(e=b[E])||void 0===e?void 0:e.name,i=Object(l.a)(T||0);return"Ch\u1ecdn ".concat(n," - ").concat(i)}),[b,E,T]);return q?c.a.createElement(u.a,{visible:q,onCancel:function(){return n.push("?")},footer:null,centered:!0,mask:!1,transitionName:"none",maskTransitionName:"none",className:"selectRecipeModal",style:{}},c.a.createElement("div",{className:"font-weight-bold text-center"},$),c.a.createElement("div",{className:"text-success text-center mb-3"},c.a.createElement("strong",null,Y)),c.a.createElement("button",{className:"btn btn-sm btn-success btn-block mb-2",onClick:J},"Qua m\xf3n ti\u1ebfp theo"),c.a.createElement(h.a,{id:"selectRecipeModalId",ref:K,showSearch:!0,value:x,placeholder:"Ch\u1ecdn m\xf3n \u0103n",onChange:function(e){return function(e){if(e){J();var n=S,i="1630921192536"==="".concat(S);i&&(n="1630921194143");var t="1630921193921"==="".concat(S);t&&(n="1630921195170");var a=function(){var e=(null===o||void 0===o?void 0:o.recipeId)||"";Object(l.o)("updated ".concat(e," success!"),"bottomRight")},o={recipeId:e,kindId:E},d=[U,_,y,"shiftIds",S,"thucDons",j,"kindIds",E];if(f(Object(w.o)(d,o,a,{})),i||t){var c=[U,_,y,"shiftIds",n,"thucDons",j,"kindIds",E];f(Object(w.o)(c,o,a,{}))}}}(e)},optionFilterProp:"children",filterOption:function(e,n){var i=Object(l.q)(n.value),t=Object(l.q)(e);return i.indexOf(t)>=0},className:["selectVendor",p.join(" ")].join(" "),autoFocus:!0,style:r},(B||[]).map((function(e){return c.a.createElement(h.a.Option,{key:e.id,value:e.id},e.name," ",Q(e))})))):null};x.defaultProps={userConfig:{},onSelect:s.noop,classNames:[],style:{}};n.default=Object(r.o)(x)},833:function(e,n,i){"use strict";var t;function a(e){if("undefined"===typeof document)return 0;if(e||void 0===t){var n=document.createElement("div");n.style.width="100%",n.style.height="200px";var i=document.createElement("div"),a=i.style;a.position="absolute",a.top="0",a.left="0",a.pointerEvents="none",a.visibility="hidden",a.width="200px",a.height="150px",a.overflow="hidden",i.appendChild(n),document.body.appendChild(i);var o=n.offsetWidth;i.style.overflow="scroll";var d=n.offsetWidth;o===d&&(d=i.clientWidth),document.body.removeChild(i),t=o-d}return t}function o(e){var n=e.match(/^(.*)px$/),i=Number(null===n||void 0===n?void 0:n[1]);return Number.isNaN(i)?a():i}function d(e){if("undefined"===typeof document||!e||!(e instanceof Element))return{width:0,height:0};var n=getComputedStyle(e,"::-webkit-scrollbar"),i=n.width,t=n.height;return{width:o(i),height:o(t)}}i.d(n,"a",(function(){return a})),i.d(n,"b",(function(){return d}))},943:function(e,n,i){"use strict";i.d(n,"b",(function(){return t})),i.d(n,"a",(function(){return a}));var t={ID:"id",MODAL_ID:"modalId",CUSTOMER_GROUP_ID:"customerGroupId",COSO_ID:"coSoId",NHANVIEN_ID:"nhanvienId",VIEW_STATUS:"pagestatus",ADD_NHANVIEN:"addNhanVien",BAO_CAO_KIND:"baoCaoKind",REPORT_ID:"reportId",OPEN_MODAL:"openModal",CANTIN_ID:"cantinId",CUSTOMER_ID:"customerId",VIEW_KIND_ID:"viewKindId",RECIPE_ID:"recipeId",IS_MON_PHU:"isMonPhu",INGRE_ID:"ingreID",VENDOR_ID:"nhaCungCapId",KIND_ID:"kindId",DAY:"day",DAY_ID:"dayId",SHIFT:"shift",SHIFT_ID:"shiftId",BOPHAN_ID:"boPhanId",WEEK_ID:"weekId",MONTH_ID:"monthId",YEAR_ID:"yearId",KETOAN_DRAWER_ID:"keToanDrawerId",KHUVUC_ID:"khuVucId",LOAITAISAN_ID:"loaiTaiSanId",TAISAN_ID:"taiSanId"},a={editNhanvien:{id:"editNhanvien",name:"C\u1eadp nh\u1eadt Nh\xe2n Vi\xean"},addNhanvien:{id:"addNhanvien",name:"Th\xeam Nh\xe2n Vi\xean"},viewNhanvien:{id:"viewNhanvien",name:"Xem Nh\xe2n Vi\xean"},themBaoCao:{id:"themBaoCao",name:"Th\xeam b\xe1o c\xe1o"},addRecipe:{id:"addRecipe",name:"Th\xeam m\xf3n",getTitle:function(){return"Th\xeam M\xf3n M\u1edbi"}},editRecipe:{id:"editRecipe",name:"C\u1eadp nh\u1eadt m\xf3n",getTitle:function(e){return"Update ".concat(String(e).toUpperCase())}},addIngre:{id:"addIngre",name:"Th\xeam Nguy\xean Li\u1ec7u",getTitle:function(e){return"Update ".concat(String(e).toUpperCase())}},editIngre:{id:"editIngre",name:"Update Nguy\xean Li\u1ec7u",getTitle:function(e){return"Update ".concat(String(e).toUpperCase())}},vendorModal:{id:"vendorModal",name:"Nh\xe0 Cung C\u1ea5p"},selectRecipe:{id:"selectRecipe",name:"Ch\u1ecdn",getTitle:function(e){return"Ch\u1ecdn ".concat(e)}},configCantin:{id:"configCantin",name:"Th\xf4ng tin c\u0103n tin"},addChiPhiPhatSinh:{id:"addChiPhiPhatSinh",name:"Chi Ph\xed Ph\xe1t Sinh"},openDutrus:{id:"openDutrus",name:"M\u1edf D\u1ef1 Tr\xf9"},addSoPhanAn:{id:"addSoPhanAn",name:"Th\xeam S\u1ed1 Ph\u1ea7n \u0102n"},addExtraSoPhanAn:{id:"addExtraSoPhanAn",name:"Th\xeam S\u1ed1 Ph\u1ea7n \u0102n"},addCommentByRecipe:{id:"addCommentByRecipe",name:"Th\xeam Ghi Ch\xfa Cho B\u1ebfp"},addCommentByShift:{id:"addCommentByShift",name:"Th\xeam Ghi Ch\xfa Cho T\u1eebng Ca"},openChiPhiCoDinhModal:{id:"openChiPhiCoDinhModal",name:"Chi Ph\xed C\u1ed1 \u0110\u1ecbnh"},addNgayCong:{id:"addNgayCong",name:"Th\xeam ng\xe0y c\xf4ng"},tongHopLuong:{id:"tongHopLuong",name:"T\u1ed5ng h\u1ee3p l\u01b0\u01a1ng"},confirmSave:{id:"confirmSave",name:"X\xe1c nh\u1eadn l\u01b0u"},addNhanVienTangCa:{id:"addNhanVienTangCa",name:"Th\xeam Nh\xe2n Vi\xean T\u0103ng Ca"},viewChiTietChamCong:{id:"viewChiTietChamCong",name:"Xem Chi Ti\u1ebft Ch\u1ea5m C\xf4ng"}}}}]);