(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[30],{1060:function(e,n,t){"use strict";t.r(n);var r=t(3),a=t(14),l=(t(999),t(1e3),t(1001),t(1002),t(0)),u=t.n(l),c=t(9),i=t(188),o=t(48),d=t(43),f=t(994),m=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n||[],l=r.isHungCao;return l||(a=(a=n.filter((function(e){var n;return null===t||void 0===t||null===(n=t[e.key])||void 0===n?void 0:n.access}))).filter((function(e){return!(null===e||void 0===e?void 0:e.hide)}))),a.map((function(e){var n=e.children||[];l||(n=(n=n.filter((function(e){var n;return null===t||void 0===t||null===(n=t[e.key])||void 0===n?void 0:n.access}))).filter((function(e){return!(null===e||void 0===e?void 0:e.hide)})));var r=n.length>0;return{id:e.key,name:e.title,url:e.url,icon:e.icon,children:r?n.map((function(e){return{id:e.id,name:e.title,url:e.url,icon:e.icon}})):null}}))},s=t(325),v=t(10),b=t(1028),h={thucDonBepChuyen:Object(l.lazy)((function(){return Promise.all([t.e(1),t.e(24)]).then(t.bind(null,1063))})),duTruBepChuyen:u.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(14)]).then(t.bind(null,1058))})),gopDuTru:u.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(13)]).then(t.bind(null,1049))})),hienThiPhanAn:Object(l.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(15)]).then(t.bind(null,1047))})),thongKeHTPA:Object(l.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(17)]).then(t.bind(null,1064))})),khoCom:Object(l.lazy)((function(){return t.e(28).then(t.bind(null,1061))})),khoNuoc:Object(l.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(23)]).then(t.bind(null,1059))}))},p=t(704),E=t(300),y=u.a.lazy((function(){return t.e(25).then(t.bind(null,1055))})),j=u.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(22)]).then(t.bind(null,1042))}));n.default=function(e){var n=Object(p.a)(),t=Object(p.b)((function(e){return e.route})),O=t.config,g=t.userPaths,k=u.a.useMemo((function(){return(null===O||void 0===O?void 0:O.path)?O.path:[]}),[O]),P=u.a.useMemo((function(){var e;return null===(e=Object(d.b)("employee"))||void 0===e?void 0:e.role}),[]);u.a.useEffect((function(){var e=null;n(Object(E.b)());var t=Object(v.k)();return e=c.a.firestore().collection("employees").where("username","==",t).onSnapshot((function(e){var n,t=[];e.forEach((function(e){t.push(e.data())})),(null===t||void 0===t||null===(n=t[0])||void 0===n?void 0:n.active)||Object(v.p)()})),function(){e&&e()}}),[]);var z=u.a.useMemo((function(){var e=Object(v.d)();return"admin"===(null===e||void 0===e?void 0:e.id)}),[]),C=u.a.useMemo((function(){return{items:m(P,k,g,{isHungCao:z})}}),[z,P,k,g]),x=u.a.useMemo((function(){var e=k.reduce((function(e,n){var t=function e(n,t){var r=t.children;if(!r)return[].concat(Object(a.a)(n),[t]);var l=r.reduce((function(n,t){return e(n,t)}),[]);return[].concat(Object(a.a)(n),[t],Object(a.a)(l))}([],n);return[].concat(Object(a.a)(e),Object(a.a)(t))}),[]).reduce((function(e,n){var t=(null===h||void 0===h?void 0:h[n.key])||null;if(!t)return e;var l=Object(r.a)(Object(r.a)({},n),{},{component:t});return[].concat(Object(a.a)(e),[l])}),[]);return z?e:k&&g?e=e.filter((function(e){var n;return null===g||void 0===g||null===(n=g[e.key])||void 0===n?void 0:n.access})):[]}),[z,k,g]);return u.a.createElement("div",{className:"app"},u.a.createElement(f.a,{fixed:!0},u.a.createElement(l.Suspense,{fallback:u.a.createElement(s.a,null)},u.a.createElement(y,{onLogout:function(n){n&&n.preventDefault(),e.history.push("/login")}}))),u.a.createElement("div",{className:"app-body"},u.a.createElement(f.d,{fixed:!0,display:"lg"},u.a.createElement(f.g,null),u.a.createElement(f.f,null),u.a.createElement(f.i,Object.assign({navConfig:C},e,{router:i})),u.a.createElement(f.e,null),u.a.createElement(f.h,null)),x.length>0?u.a.createElement("main",{className:"main"},u.a.createElement("div",{className:"main-container"},u.a.createElement(l.Suspense,{fallback:u.a.createElement(s.a,null)},u.a.createElement(o.g,null,x.map((function(e){return u.a.createElement(o.d,{key:e.key,path:e.url,exact:e.exact,name:e.title,render:function(){return u.a.createElement(e.component,null)}})})),u.a.createElement(o.d,{path:"/",exact:!1,render:function(){return u.a.createElement(j,null)}}),u.a.createElement(o.c,{from:"/",to:"/"}))))):null,u.a.createElement(b.a,null)))}},704:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return l}));var r=t(298),a=function(){return Object(r.b)()},l=r.c}}]);